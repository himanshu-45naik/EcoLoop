<% layout = 'layouts/layout' %>

<style>
.container {
    padding: 20px;
    margin: 0 auto;
}

h1 {
    font-size: 28px;
    font-weight: bold;
    color: #333;
    margin-bottom: 15px;
}

p {
    font-size: 16px;
    line-height: 1.5;
    color: #666;
}

a {
    display: inline-block;
    margin-top: 10px;
    font-size: 16px;
    color: #007bff;
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

.row {
    margin-top: 20px;
    display: flex; /* Added for column layout */
    flex-wrap: wrap; /* Added for responsiveness */
}

.col-6 {
    flex: 0 0 50%;
    max-width: 50%;
    padding-right: 15px; /* Optional spacing between columns */
    padding-left: 15px; /* Optional spacing between columns */
}

img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
}

/* Counter Animation Styles */
.counter {
    font-size: 48px;
    font-weight: bold;
    color: #007bff;
    margin-top: 20px;
}
</style>
<div class="container mt-5">

    <div class="row justify-content-center text-center">
        <div class="col-lg-8">
            <h1>Automating Waste Management for a Cleaner Future</h1>
            <p class="lead">Ecoloop uses AI to optimize waste collection, encourage recycling, and create cleaner communities through citizen participation.</p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mt-4">
                <button type="button" class="btn btn-success btn-lg px-4 gap-3" onclick="window.location.href='/recycling'">Report Waste <i class="fa-solid fa-exclamation"></i></button>
                <button type="button" class="btn btn-outline-secondary btn-lg px-4" onclick="window.location.href='/dashboard'">View Dashboard</button>
            </div>
        </div>
    </div>
</div>


<!-- animation_counter -->
<div class="container mt-5 text-center">
    <h1>After Swachh Bharat Abhiyan</h1>
    <div class="counters" style="display: flex; justify-content: center; gap: 20px;">
        <div class="counter" id="counter1" style="color: green;">0</div>
        <h5>&percnt;(MSW)being processed</h5>

        <div class="counter" id="counter2" style="color: green;">0</div>
        <h5>million metric tonnes(MSW)</h5>

        <div class="counter" id="counter3" style="color: green;">0</div>
        <h5>&percnt;(D2D)Waste Collection</h5>

    </div>
</div>

<div class="container mt-5 text-center">
    <div class="row">
        <div class="col-6">
            <img src="/images/IMG-20250330-WA0000.jpg" alt="Education Image">
        </div>
        <div class="col-6">
            <h1 class="mb-3">Reduce Landfill, Recycle Right</h1>
            <p>The presence of these separate bins signifies a system for waste segregation at the source.</p>
            <p>The image likely serves an educational purpose, aiming to guide individuals.</p>
            <a href="https://www.epa.gov/lmop/basic-information-about-landfill-gas#:~:text=Instead%20of%20escaping%20into%20the,smog%20and%20global%20climate%20change." style="text-decoration: none;">
                Read more <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
            </a>
        </div>
    </div>
</div>

<div class="all">
    

 
<!-- chart.js -->
<div class="container mt-5">
    <h1>Top Waste Management Cities</h1>
    <p class="lead">Leaderboard based on government data.</p>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Rank</th>
                <th>City</th>
            </tr>
        </thead>
        <tbody>
            <% cityWasteManagementRanking.forEach(cityData => { %>

                <tr>
                    <td><%= cityData.rank ? cityData.rank : 'N/A' %></td>
                    <td><%= cityData.city %></td>
                </tr>
            <% }); %>
        </tbody>
    </table>

    <div class="mt-4">

    </div>

    <div class="mt-4">
        <canvas id="myChart"></canvas>
    </div>

    <script>
        // <block:setup:1>
        const labels = ['January', 'February', 'March', 'April', 'May', 'June', 'July']; // Static array of month names

        const data = {
            labels: labels,
            datasets: [{
                label: 'My First Dataset', // Change this to a relevant label (e.g., 'Waste Segregation Rate')
                data: [65, 59, 80, 81, 56, 55, 40], // Replace this with your actual waste management data for the last 7 periods
                fill: false,
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
            }]
        };
        // </block:setup>

        // <block:config:0>
        const config = {
            type: 'line',
            data: data,
            options: { // Optional: Add chart options here (e.g., title, scales)
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Trend of Waste Management Parameter' // Customize the title
                    }
                }
            }
        };
        // </block:config>

        // Create the chart
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, config);

        console.log("Leaderboard page loaded.");
    </script>
</div>
    

    <script>
        function animateCounter(target, duration, elementId) {
            let start = 0;
            const stepTime = Math.abs(Math.floor(duration / target));
            const counterElement = document.getElementById(elementId);

            const counter = setInterval(() => {
                start += 1;
                counterElement.innerHTML = start;
                if (start === target) {
                    clearInterval(counter);
                }
            }, stepTime);
        }

        // Start the counter animations
        document.addEventListener('DOMContentLoaded', function() {
            animateCounter(75 , 3000, 'counter1'); // Count to 75 in 3 seconds
            animateCounter(42, 4000, 'counter2'); // Count to 42 in 4 seconds
            animateCounter(100, 4000, 'counter3'); // Count to 100 in 4 seconds
        });

    </script>


</div>




<div class="container mt-5 text-center">
    <div class="row">
        <div class="col-6">
            <img src="\images\Municipal-Solid-Waste-MSW465x465.webp" alt="Education Image">
        </div>
        <div class="col-6">
            <h1 class="mb-3">Municipal Solid Waste</h1>
            <p>India is one of the largest generators of MSW in the world.</p>
            <p>Current estimates suggest that India generates around 60-65 million tonnes of MSW annually.</p>
            <a href="https://en.wikipedia.org/wiki/Municipal_solid_waste#:~:text=Municipal%20solid%20waste%20(MSW)%2C,two%20are%20sometimes%20collected%20separately." style="text-decoration: none;">
                Read more <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
            </a>
        </div>
    </div>
</div>

</script>
</div>